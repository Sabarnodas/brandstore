{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anany/Downloads/BrandStore_Vercel/lib/dummy-data.ts"],"sourcesContent":["// Dummy product data\r\nexport interface Product {\r\n  id: string\r\n  _id?: string // MongoDB ID\r\n  name: string\r\n  description: string\r\n  price: number\r\n  category: string\r\n  image: string\r\n  stock: number\r\n  manufacturer: string\r\n  sizes?: string[] // Optional sizes for clothing items\r\n}\r\n\r\nexport interface Order {\r\n  id: string\r\n  userId: string\r\n  products: { productId: string; quantity: number; price: number }[]\r\n  total: number\r\n  status: \"pending\" | \"processing\" | \"shipped\" | \"delivered\"\r\n  date: string\r\n}\r\n\r\nexport const categories = [\"Electronics\", \"Clothing\", \"Books\", \"Home & Garden\", \"Sports\", \"Toys\"]\r\n\r\nexport const products: Product[] = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Wireless Headphones\",\r\n    description: \"High-quality wireless headphones with noise cancellation\",\r\n    price: 99.99,\r\n    category: \"Electronics\",\r\n    image: \"/wireless-headphones.png\",\r\n    stock: 50,\r\n    manufacturer: \"TechCorp\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Cotton T-Shirt\",\r\n    description: \"Comfortable 100% cotton t-shirt available in multiple sizes\",\r\n    price: 19.99,\r\n    category: \"Clothing\",\r\n    image: \"/cotton-tshirt.png\",\r\n    stock: 200,\r\n    manufacturer: \"FashionHub\",\r\n    sizes: [\"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"],\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"JavaScript Guide\",\r\n    description: \"Complete guide to modern JavaScript programming\",\r\n    price: 29.99,\r\n    category: \"Books\",\r\n    image: \"/javascript-programming-book.png\",\r\n    stock: 100,\r\n    manufacturer: \"BookPress\",\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"Garden Tool Set\",\r\n    description: \"Complete set of essential garden tools including shovel, rake, and pruning shears\",\r\n    price: 49.99,\r\n    category: \"Home & Garden\",\r\n    image: \"/garden-tool-set.jpg\",\r\n    stock: 30,\r\n    manufacturer: \"GardenPro\",\r\n  },\r\n  {\r\n    id: \"5\",\r\n    name: \"Yoga Mat\",\r\n    description: \"Non-slip yoga mat for all levels, eco-friendly material\",\r\n    price: 24.99,\r\n    category: \"Sports\",\r\n    image: \"/rolled-yoga-mat.png\",\r\n    stock: 75,\r\n    manufacturer: \"FitLife\",\r\n  },\r\n  {\r\n    id: \"6\",\r\n    name: \"Building Blocks Set\",\r\n    description: \"Educational building blocks for kids aged 3+, 500 pieces\",\r\n    price: 34.99,\r\n    category: \"Toys\",\r\n    image: \"/colorful-building-blocks.png\",\r\n    stock: 120,\r\n    manufacturer: \"ToyWorld\",\r\n  },\r\n  {\r\n    id: \"7\",\r\n    name: \"Leather Jacket\",\r\n    description: \"Premium leather jacket with classic design\",\r\n    price: 149.99,\r\n    category: \"Clothing\",\r\n    image: \"/black-leather-jacket.png\",\r\n    stock: 35,\r\n    manufacturer: \"FashionHub\",\r\n    sizes: [\"S\", \"M\", \"L\", \"XL\"],\r\n  },\r\n  {\r\n    id: \"8\",\r\n    name: \"Smart Watch\",\r\n    description: \"Fitness tracker with heart rate monitor and GPS\",\r\n    price: 199.99,\r\n    category: \"Electronics\",\r\n    image: \"/smart-watch-fitness.png\",\r\n    stock: 60,\r\n    manufacturer: \"TechCorp\",\r\n  },\r\n  {\r\n    id: \"9\",\r\n    name: \"Running Shoes\",\r\n    description: \"Lightweight running shoes with excellent cushioning\",\r\n    price: 89.99,\r\n    category: \"Clothing\",\r\n    image: \"/running-shoes.jpg\",\r\n    stock: 100,\r\n    manufacturer: \"FitLife\",\r\n    sizes: [\"7\", \"8\", \"9\", \"10\", \"11\", \"12\"],\r\n  },\r\n  {\r\n    id: \"10\",\r\n    name: \"Cookbook Collection\",\r\n    description: \"Essential cookbook with 200+ recipes from around the world\",\r\n    price: 24.99,\r\n    category: \"Books\",\r\n    image: \"/cookbook-recipes.jpg\",\r\n    stock: 80,\r\n    manufacturer: \"BookPress\",\r\n  },\r\n  {\r\n    id: \"11\",\r\n    name: \"LED Desk Lamp\",\r\n    description: \"Adjustable LED desk lamp with multiple brightness levels\",\r\n    price: 39.99,\r\n    category: \"Home & Garden\",\r\n    image: \"/led-desk-lamp.png\",\r\n    stock: 45,\r\n    manufacturer: \"GardenPro\",\r\n  },\r\n  {\r\n    id: \"12\",\r\n    name: \"Tennis Racket\",\r\n    description: \"Professional-grade tennis racket for advanced players\",\r\n    price: 129.99,\r\n    category: \"Sports\",\r\n    image: \"/tennis-racket.png\",\r\n    stock: 25,\r\n    manufacturer: \"FitLife\",\r\n  },\r\n]\r\n\r\nexport const dummyOrders: Order[] = [\r\n  {\r\n    id: \"ORD-001\",\r\n    userId: \"user-1\",\r\n    products: [\r\n      { productId: \"1\", quantity: 1, price: 99.99 },\r\n      { productId: \"2\", quantity: 2, price: 19.99 },\r\n    ],\r\n    total: 139.97,\r\n    status: \"delivered\",\r\n    date: \"2024-01-15\",\r\n  },\r\n  {\r\n    id: \"ORD-002\",\r\n    userId: \"user-1\",\r\n    products: [{ productId: \"3\", quantity: 1, price: 29.99 }],\r\n    total: 29.99,\r\n    status: \"shipped\",\r\n    date: \"2024-01-20\",\r\n  },\r\n]\r\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;;;;AAuBd,MAAM,aAAa;IAAC;IAAe;IAAY;IAAS;IAAiB;IAAU;CAAO;AAE1F,MAAM,WAAsB;IACjC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;QACd,OAAO;YAAC;YAAM;YAAK;YAAK;YAAK;YAAM;SAAM;IAC3C;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;QACd,OAAO;YAAC;YAAK;YAAK;YAAK;SAAK;IAC9B;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;QACd,OAAO;YAAC;YAAK;YAAK;YAAK;YAAM;YAAM;SAAK;IAC1C;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,UAAU;QACV,OAAO;QACP,OAAO;QACP,cAAc;IAChB;CACD;AAEM,MAAM,cAAuB;IAClC;QACE,IAAI;QACJ,QAAQ;QACR,UAAU;YACR;gBAAE,WAAW;gBAAK,UAAU;gBAAG,OAAO;YAAM;YAC5C;gBAAE,WAAW;gBAAK,UAAU;gBAAG,OAAO;YAAM;SAC7C;QACD,OAAO;QACP,QAAQ;QACR,MAAM;IACR;IACA;QACE,IAAI;QACJ,QAAQ;QACR,UAAU;YAAC;gBAAE,WAAW;gBAAK,UAAU;gBAAG,OAAO;YAAM;SAAE;QACzD,OAAO;QACP,QAAQ;QACR,MAAM;IACR;CACD"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anany/Downloads/BrandStore_Vercel/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('auth_token');\r\n    if (token) {\r\n        const parsedToken = JSON.parse(token); // The current implementation stores the whole token object as string\r\n        if (parsedToken.token) {\r\n            config.headers.Authorization = `Bearer ${parsedToken.token}`;\r\n        }\r\n    }\r\n    return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,MAAM,cAAc,KAAK,KAAK,CAAC,QAAQ,qEAAqE;QAC5G,IAAI,YAAY,KAAK,EAAE;YACnB,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,YAAY,KAAK,EAAE;QAChE;IACJ;IACA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anany/Downloads/BrandStore_Vercel/contexts/store-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\r\nimport { products as initialProducts, type Product } from \"@/lib/dummy-data\"\r\nimport api from \"@/lib/api\"\r\n\r\n\r\ninterface CartItem extends Product {\r\n  quantity: number\r\n  selectedSize?: string // For products with sizes\r\n}\r\n\r\ninterface User {\r\n  id: string\r\n  email: string\r\n  name: string\r\n  role: \"admin\" | \"user\"\r\n}\r\n\r\ninterface AuthToken {\r\n  token: string\r\n  user: User\r\n  expiresAt: number\r\n}\r\n\r\nexport interface OrderItem {\r\n  productId: string\r\n  productName: string\r\n  quantity: number\r\n  price: number\r\n  selectedSize?: string\r\n}\r\n\r\nexport interface DeliveryDetails {\r\n  name: string\r\n  phone: string\r\n  address: string\r\n  deliveryOption: \"home\" | \"pickup\"\r\n  paymentMethod: \"credit\" | \"debit\" | \"cod\"\r\n}\r\n\r\nexport interface Order {\r\n  id: string\r\n  userId: string\r\n  items: OrderItem[]\r\n  total: number\r\n  deliveryDetails: DeliveryDetails\r\n  orderStatus: \"Placed\" | \"Processing\" | \"Shipped\" | \"Delivered\" | \"Cancelled\"\r\n  deliveryStatus: \"In Process\" | \"Delivered\" | \"Rejected\" | \"Not Received\"\r\n  createdAt: string\r\n}\r\n\r\nexport interface DeliveryLog {\r\n  id: string\r\n  orderId: string\r\n  productName: string\r\n  quantity: number\r\n  price: number\r\n  deliveryAgent: string\r\n  deliveredAt: string\r\n}\r\n\r\nexport interface ManufacturerOrder {\r\n  id: string\r\n  productId: string\r\n  productName: string\r\n  quantity: number\r\n  quantityReceived: number\r\n  cost: number\r\n  orderDate: string\r\n  expectedArrival: string\r\n  status: \"Ordered\" | \"In Transit\" | \"Received\" | \"Cancelled\"\r\n}\r\n\r\ninterface StoreContextType {\r\n  cart: CartItem[]\r\n  addToCart: (product: Product, size?: string) => void\r\n  removeFromCart: (productId: string, size?: string) => void\r\n  updateQuantity: (productId: string, quantity: number, size?: string) => void\r\n  clearCart: () => void\r\n  getCartTotal: () => number\r\n  user: User | null\r\n  login: (email: string, password: string) => Promise<boolean>\r\n  register: (name: string, email: string, password: string) => Promise<boolean>\r\n  logout: () => void\r\n  isAdmin: boolean\r\n  orders: Order[]\r\n  createOrder: (deliveryDetails: DeliveryDetails) => Promise<Order>\r\n  getAllOrders: () => Order[]\r\n\r\n  products: Product[]\r\n  addProduct: (product: Omit<Product, \"id\">) => void\r\n  updateProduct: (id: string, updates: Partial<Product>) => void\r\n  deleteProduct: (id: string) => void\r\n  updateStock: (productId: string, newStock: number) => void\r\n  updateOrderDeliveryStatus: (orderId: string, status: Order[\"deliveryStatus\"], deliveryAgent?: string) => void\r\n  deliveryLogs: DeliveryLog[]\r\n  manufacturerOrders: ManufacturerOrder[]\r\n  createManufacturerOrder: (order: Omit<ManufacturerOrder, \"id\">) => void\r\n  updateManufacturerOrder: (id: string, updates: Partial<ManufacturerOrder>) => void\r\n  deleteManufacturerOrder: (id: string) => void\r\n}\r\n\r\nconst StoreContext = createContext<StoreContextType | undefined>(undefined)\r\n\r\nconst ADMIN_EMAIL = \"admin@eshop.com\"\r\nconst ADMIN_PASSWORD = \"admin123\"\r\n\r\nexport function StoreProvider({ children }: { children: ReactNode }) {\r\n  const [cart, setCart] = useState<CartItem[]>([])\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [orders, setOrders] = useState<Order[]>([])\r\n  const [products, setProducts] = useState<Product[]>(initialProducts)\r\n  const [deliveryLogs, setDeliveryLogs] = useState<DeliveryLog[]>([])\r\n  const [manufacturerOrders, setManufacturerOrders] = useState<ManufacturerOrder[]>([])\r\n\r\n  useEffect(() => {\r\n    const storedAuth = localStorage.getItem(\"auth_token\")\r\n    if (storedAuth) {\r\n      try {\r\n        const authData: AuthToken = JSON.parse(storedAuth)\r\n        if (authData.expiresAt > Date.now()) {\r\n          setUser(authData.user)\r\n        } else {\r\n          localStorage.removeItem(\"auth_token\")\r\n        }\r\n      } catch (error) {\r\n        localStorage.removeItem(\"auth_token\")\r\n      }\r\n    }\r\n\r\n    const storedCart = localStorage.getItem(\"cart\")\r\n    if (storedCart) {\r\n      try {\r\n        setCart(JSON.parse(storedCart))\r\n      } catch (error) {\r\n        console.error(\"Failed to load cart:\", error)\r\n      }\r\n    }\r\n\r\n    // Fetch products from backend\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const { data } = await api.get('/products')\r\n        setProducts(data)\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch products:\", error)\r\n        // Fallback to dummy data if API fails to avoid broken UI during dev\r\n        setProducts(initialProducts)\r\n      }\r\n    }\r\n\r\n    fetchProducts()\r\n\r\n    // Fetch orders if user is logged in\r\n    // This will be handled in a separate effect dependent on 'user'\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      if (user) {\r\n        try {\r\n          const { data } = await api.get('/orders')\r\n          // Map backend order to frontend Order interface\r\n          const mappedOrders: Order[] = data.map((order: any) => ({\r\n            id: order._id,\r\n            userId: order.user._id || order.user,\r\n            items: order.orderItems.map((item: any) => ({\r\n              productId: item.product,\r\n              productName: item.name,\r\n              quantity: item.quantity,\r\n              price: item.price,\r\n              selectedSize: item.size\r\n            })),\r\n            total: order.totalPrice,\r\n            deliveryDetails: {\r\n              name: order.shippingAddress?.name || (order.user && order.user.name) || \"Unknown User\",\r\n              phone: order.shippingAddress?.phone || \"Not provided\",\r\n              address: order.shippingAddress?.address || \"\",\r\n              deliveryOption: \"home\", // Default\r\n              paymentMethod: order.paymentMethod as any\r\n            },\r\n            orderStatus: order.status === 'pending' ? 'Placed' : 'Processing', // Map status\r\n            deliveryStatus: order.isDelivered ? 'Delivered' : 'In Process',\r\n            createdAt: order.createdAt\r\n          }))\r\n          setOrders(mappedOrders)\r\n        } catch (e) {\r\n          console.error(\"Failed to fetch orders\", e)\r\n        }\r\n      } else {\r\n        setOrders([])\r\n      }\r\n    }\r\n\r\n    fetchOrders()\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n  }, [cart])\r\n\r\n  useEffect(() => {\r\n    if (orders.length > 0) {\r\n      localStorage.setItem(\"orders\", JSON.stringify(orders))\r\n    }\r\n  }, [orders])\r\n\r\n  useEffect(() => {\r\n    if (products.length > 0) {\r\n      localStorage.setItem(\"products\", JSON.stringify(products))\r\n    }\r\n  }, [products])\r\n\r\n  useEffect(() => {\r\n    if (deliveryLogs.length > 0) {\r\n      localStorage.setItem(\"delivery_logs\", JSON.stringify(deliveryLogs))\r\n    }\r\n  }, [deliveryLogs])\r\n\r\n  useEffect(() => {\r\n    if (manufacturerOrders.length > 0) {\r\n      localStorage.setItem(\"manufacturer_orders\", JSON.stringify(manufacturerOrders))\r\n    }\r\n  }, [manufacturerOrders])\r\n\r\n  const addToCart = (product: Product, size?: string) => {\r\n    setCart((prev) => {\r\n      const existing = prev.find((item) => item.id === product.id && item.selectedSize === size)\r\n      if (existing) {\r\n        return prev.map((item) =>\r\n          item.id === product.id && item.selectedSize === size ? { ...item, quantity: item.quantity + 1 } : item,\r\n        )\r\n      }\r\n      return [...prev, { ...product, quantity: 1, selectedSize: size }]\r\n    })\r\n  }\r\n\r\n  const removeFromCart = (productId: string, size?: string) => {\r\n    setCart((prev) => prev.filter((item) => !(item.id === productId && item.selectedSize === size)))\r\n  }\r\n\r\n  const updateQuantity = (productId: string, quantity: number, size?: string) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(productId, size)\r\n      return\r\n    }\r\n    setCart((prev) =>\r\n      prev.map((item) => (item.id === productId && item.selectedSize === size ? { ...item, quantity } : item)),\r\n    )\r\n  }\r\n\r\n  const clearCart = () => {\r\n    setCart([])\r\n    localStorage.removeItem(\"cart\")\r\n  }\r\n\r\n  const getCartTotal = () => {\r\n    return cart.reduce((sum, item) => sum + item.price * item.quantity, 0)\r\n  }\r\n\r\n  const createOrder = async (deliveryDetails: DeliveryDetails): Promise<Order> => {\r\n    if (!user) {\r\n      throw new Error(\"User must be logged in to create an order\")\r\n    }\r\n\r\n    if (cart.length === 0) {\r\n      throw new Error(\"Cart is empty\")\r\n    }\r\n\r\n    const orderItems = cart.map((item) => ({\r\n      name: item.name,\r\n      quantity: item.quantity,\r\n      image: item.image,\r\n      price: item.price,\r\n      product: item._id || item.id,\r\n      size: item.selectedSize\r\n    }))\r\n\r\n    const total = getCartTotal()\r\n\r\n    try {\r\n      const { data } = await api.post('/orders', {\r\n        orderItems,\r\n        shippingAddress: {\r\n          name: deliveryDetails.name,\r\n          phone: deliveryDetails.phone,\r\n          address: deliveryDetails.address,\r\n          city: \"Unknown\", // Frontend doesn't convert address string to parts yet\r\n          postalCode: \"00000\",\r\n          country: \"Unknown\"\r\n        },\r\n        paymentMethod: deliveryDetails.paymentMethod,\r\n        totalPrice: total\r\n      })\r\n\r\n      // Adapt backend response to Order interface if needed\r\n      // Backend returns _id, frontend uses id\r\n      // Map it:\r\n      const newOrder: Order = {\r\n        id: data._id,\r\n        userId: user.id, // simplified\r\n        items: data.orderItems.map((i: any) => ({\r\n          productId: i.product,\r\n          productName: i.name,\r\n          quantity: i.quantity,\r\n          price: i.price,\r\n          selectedSize: i.size\r\n        })),\r\n        total: data.totalPrice,\r\n        deliveryDetails,\r\n        orderStatus: \"Placed\",\r\n        deliveryStatus: \"In Process\", // Backend default\r\n        createdAt: data.createdAt\r\n      }\r\n\r\n      setOrders((prev) => [newOrder, ...prev])\r\n      clearCart()\r\n      return newOrder\r\n    } catch (error) {\r\n      console.error(\"Create order failed\", error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const getAllOrders = () => {\r\n    return orders\r\n  }\r\n\r\n  const addProduct = (product: Omit<Product, \"id\">) => {\r\n    const newProduct: Product = {\r\n      ...product,\r\n      id: `prod-${Date.now()}`,\r\n    }\r\n    setProducts((prev) => [...prev, newProduct])\r\n  }\r\n\r\n  const updateProduct = (id: string, updates: Partial<Product>) => {\r\n    setProducts((prev) => prev.map((product) => (product.id === id ? { ...product, ...updates } : product)))\r\n  }\r\n\r\n  const deleteProduct = (id: string) => {\r\n    setProducts((prev) => prev.map((product) => (product.id === id ? { ...product, stock: 0 } : product)))\r\n  }\r\n\r\n  const updateStock = (productId: string, newStock: number) => {\r\n    setProducts((prev) => prev.map((product) => (product.id === productId ? { ...product, stock: newStock } : product)))\r\n  }\r\n\r\n  const updateOrderDeliveryStatus = (orderId: string, status: Order[\"deliveryStatus\"], deliveryAgent?: string) => {\r\n    setOrders((prev) => {\r\n      const updatedOrders = prev.map((order) => {\r\n        if (order.id === orderId) {\r\n          const previousStatus = order.deliveryStatus\r\n          const newOrder = { ...order, deliveryStatus: status }\r\n\r\n          if (status === \"Delivered\" && previousStatus !== \"Delivered\") {\r\n            setProducts((prevProducts) =>\r\n              prevProducts.map((product) => {\r\n                const orderItem = order.items.find((item) => item.productId === product.id)\r\n                if (orderItem) {\r\n                  return {\r\n                    ...product,\r\n                    stock: Math.max(0, product.stock - orderItem.quantity),\r\n                  }\r\n                }\r\n                return product\r\n              }),\r\n            )\r\n\r\n            const newLogs: DeliveryLog[] = order.items.map((item) => ({\r\n              id: `LOG-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\r\n              orderId: order.id,\r\n              productName: item.productName,\r\n              quantity: item.quantity,\r\n              price: item.price,\r\n              deliveryAgent: deliveryAgent || \"Not specified\",\r\n              deliveredAt: new Date().toISOString(),\r\n            }))\r\n\r\n            setDeliveryLogs((prevLogs) => [...newLogs, ...prevLogs])\r\n\r\n            newOrder.orderStatus = \"Delivered\"\r\n          }\r\n\r\n          if (status === \"Rejected\") {\r\n            newOrder.orderStatus = \"Cancelled\"\r\n          } else if (status === \"Not Received\") {\r\n            newOrder.orderStatus = \"Cancelled\"\r\n          }\r\n\r\n          return newOrder\r\n        }\r\n        return order\r\n      })\r\n\r\n      return updatedOrders\r\n    })\r\n  }\r\n\r\n  const login = async (email: string, password: string): Promise<boolean> => {\r\n    try {\r\n      const { data } = await api.post('/auth/login', { email, password })\r\n\r\n      const newUser: User = {\r\n        id: data._id,\r\n        email: data.email,\r\n        name: data.name,\r\n        role: data.role as \"admin\" | \"user\",\r\n      }\r\n\r\n      const authToken: AuthToken = {\r\n        token: data.token,\r\n        user: newUser,\r\n        expiresAt: Date.now() + 30 * 24 * 60 * 60 * 1000,\r\n      }\r\n\r\n      localStorage.setItem(\"auth_token\", JSON.stringify(authToken))\r\n      setUser(newUser)\r\n      return true\r\n    } catch (error: any) {\r\n      console.error(\"Login failed\", error)\r\n      throw error // Throw error to be handled by the component\r\n    }\r\n  }\r\n\r\n  const register = async (name: string, email: string, password: string): Promise<boolean> => {\r\n    try {\r\n      const { data } = await api.post('/auth/register', {\r\n        name,\r\n        email: email.trim().toLowerCase(),\r\n        password: password.trim()\r\n      })\r\n\r\n      const newUser: User = {\r\n        id: data._id,\r\n        email: data.email,\r\n        name: data.name,\r\n        role: data.role as \"admin\" | \"user\",\r\n      }\r\n\r\n      const authToken: AuthToken = {\r\n        token: data.token,\r\n        user: newUser,\r\n        expiresAt: Date.now() + 30 * 24 * 60 * 60 * 1000,\r\n      }\r\n\r\n      localStorage.setItem(\"auth_token\", JSON.stringify(authToken))\r\n      setUser(newUser)\r\n      return true\r\n    } catch (error: any) {\r\n      console.error(\"Registration failed\", error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"auth_token\")\r\n    setUser(null)\r\n  }\r\n\r\n  const isAdmin = user?.role === \"admin\"\r\n\r\n  const createManufacturerOrder = (order: Omit<ManufacturerOrder, \"id\">) => {\r\n    const newOrder: ManufacturerOrder = {\r\n      ...order,\r\n      id: `MFG-${Date.now()}`,\r\n    }\r\n    setManufacturerOrders((prev) => [newOrder, ...prev])\r\n  }\r\n\r\n  const updateManufacturerOrder = (id: string, updates: Partial<ManufacturerOrder>) => {\r\n    setManufacturerOrders((prev) =>\r\n      prev.map((order) => {\r\n        if (order.id === id) {\r\n          const updatedOrder = { ...order, ...updates }\r\n\r\n          if (updates.status === \"Received\" && order.status !== \"Received\") {\r\n            setProducts((prevProducts) =>\r\n              prevProducts.map((product) => {\r\n                if (product.id === order.productId) {\r\n                  return {\r\n                    ...product,\r\n                    stock: product.stock + (updatedOrder.quantityReceived || updatedOrder.quantity),\r\n                  }\r\n                }\r\n                return product\r\n              }),\r\n            )\r\n          }\r\n\r\n          return updatedOrder\r\n        }\r\n        return order\r\n      }),\r\n    )\r\n  }\r\n\r\n  const deleteManufacturerOrder = (id: string) => {\r\n    setManufacturerOrders((prev) => prev.filter((order) => order.id !== id))\r\n  }\r\n\r\n  return (\r\n    <StoreContext.Provider\r\n      value={{\r\n        cart,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        clearCart,\r\n        getCartTotal,\r\n        user,\r\n        login,\r\n        register,\r\n        logout,\r\n        isAdmin,\r\n        orders,\r\n        createOrder,\r\n        getAllOrders,\r\n        products,\r\n        addProduct,\r\n        updateProduct,\r\n        deleteProduct,\r\n        updateStock,\r\n        updateOrderDeliveryStatus,\r\n        deliveryLogs,\r\n        manufacturerOrders,\r\n        createManufacturerOrder,\r\n        updateManufacturerOrder,\r\n        deleteManufacturerOrder,\r\n      }}\r\n    >\r\n      {children}\r\n    </StoreContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useStore() {\r\n  const context = useContext(StoreContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useStore must be used within a StoreProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anany/Downloads/BrandStore_Vercel/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anany/Downloads/BrandStore_Vercel/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 853, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anany/Downloads/BrandStore_Vercel/components/navbar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport Image from \"next/image\"\r\nimport { useStore } from \"@/contexts/store-context\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ShoppingCart, User, LogOut, ShieldCheck, Moon, Sun } from \"lucide-react\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nexport function Navbar() {\r\n  const { cart, user, logout, isAdmin } = useStore()\r\n  const [isDark, setIsDark] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const darkMode = localStorage.getItem(\"darkMode\") === \"true\"\r\n    setIsDark(darkMode)\r\n    if (darkMode) {\r\n      document.documentElement.classList.add(\"dark\")\r\n    }\r\n  }, [])\r\n\r\n  const toggleDarkMode = () => {\r\n    const newDarkMode = !isDark\r\n    setIsDark(newDarkMode)\r\n    localStorage.setItem(\"darkMode\", String(newDarkMode))\r\n    if (newDarkMode) {\r\n      document.documentElement.classList.add(\"dark\")\r\n    } else {\r\n      document.documentElement.classList.remove(\"dark\")\r\n    }\r\n  }\r\n\r\n  const cartItemCount = cart.reduce((sum, item) => sum + item.quantity, 0)\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n    window.location.href = \"/\"\r\n  }\r\n\r\n  return (\r\n    <nav className=\"border-b bg-background\">\r\n      <div className=\"container mx-auto px-4 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\">\r\n            <Image src=\"/logo.png\" alt=\"IEM Logo\" width={48} height={48} className=\"object-contain\" />\r\n            <span className=\"text-2xl font-bold\">IEM BrandStore</span>\r\n          </Link>\r\n\r\n          <div className=\"flex items-center gap-6\">\r\n            <Link href=\"/\" className=\"hover:text-primary\">\r\n              Home\r\n            </Link>\r\n            <Link href=\"/categories\" className=\"hover:text-primary\">\r\n              Categories\r\n            </Link>\r\n            {isAdmin && (\r\n              <Link href=\"/admin\">\r\n                <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\r\n                  <ShieldCheck className=\"h-4 w-4\" />\r\n                  Admin Panel\r\n                </Button>\r\n              </Link>\r\n            )}\r\n            {user && (\r\n              <Link href=\"/orders\" className=\"hover:text-primary\">\r\n                My Orders\r\n              </Link>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"icon\"\r\n              onClick={toggleDarkMode}\r\n              className=\"bg-transparent\"\r\n              aria-label=\"Toggle dark mode\"\r\n            >\r\n              {isDark ? <Sun className=\"h-5 w-5\" /> : <Moon className=\"h-5 w-5\" />}\r\n            </Button>\r\n\r\n            <Link href=\"/cart\">\r\n              <Button variant=\"outline\" size=\"icon\" className=\"relative bg-transparent\">\r\n                <ShoppingCart className=\"h-5 w-5\" />\r\n                {cartItemCount > 0 && (\r\n                  <span className=\"absolute -right-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground\">\r\n                    {cartItemCount}\r\n                  </span>\r\n                )}\r\n              </Button>\r\n            </Link>\r\n\r\n            {user ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-sm\">\r\n                  {user.name}\r\n                  {isAdmin && <span className=\"ml-1 text-xs text-muted-foreground\">(Admin)</span>}\r\n                </span>\r\n                <Button variant=\"ghost\" size=\"icon\" onClick={handleLogout}>\r\n                  <LogOut className=\"h-5 w-5\" />\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <Link href=\"/login\">\r\n                <Button variant=\"outline\" size=\"icon\">\r\n                  <User className=\"h-5 w-5\" />\r\n                </Button>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAPA;;;;;;;;AASO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAQ;IAChD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,aAAa,OAAO,CAAC,gBAAgB;QACtD,UAAU;QACV,IAAI,UAAU;YACZ,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,MAAM,cAAc,CAAC;QACrB,UAAU;QACV,aAAa,OAAO,CAAC,YAAY,OAAO;QACxC,IAAI,aAAa;YACf,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF;IAEA,MAAM,gBAAgB,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAEtE,MAAM,eAAe;QACnB;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,8OAAC,wIAAK;gCAAC,KAAI;gCAAY,KAAI;gCAAW,OAAO;gCAAI,QAAQ;gCAAI,WAAU;;;;;;0CACvE,8OAAC;gCAAK,WAAU;0CAAqB;;;;;;;;;;;;kCAGvC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uKAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAqB;;;;;;0CAG9C,8OAAC,uKAAI;gCAAC,MAAK;gCAAc,WAAU;0CAAqB;;;;;;4BAGvD,yBACC,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC,qIAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,WAAU;;sDAC5C,8OAAC,mOAAW;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;4BAKxC,sBACC,8OAAC,uKAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAqB;;;;;;;;;;;;kCAMxD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,qIAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEV,uBAAS,8OAAC,uMAAG;oCAAC,WAAU;;;;;yDAAe,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;0CAG1D,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC,qIAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAO,WAAU;;sDAC9C,8OAAC,sOAAY;4CAAC,WAAU;;;;;;wCACvB,gBAAgB,mBACf,8OAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;;;;;;4BAMR,qBACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CACb,KAAK,IAAI;4CACT,yBAAW,8OAAC;gDAAK,WAAU;0DAAqC;;;;;;;;;;;;kDAEnE,8OAAC,qIAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAO,SAAS;kDAC3C,cAAA,8OAAC,oNAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;qDAItB,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC,qIAAM;oCAAC,SAAQ;oCAAU,MAAK;8CAC7B,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlC"}}]
}